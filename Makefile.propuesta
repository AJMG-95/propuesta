.PHONY: all check pro

all: check pro

check:
	@scripts/check-pandoc.sh
	@scripts/check-bundler.sh
	@[ -d vendor ] || composer install
	@bundle install --path vendor/bundle

pro:
	@php scripts/requisitos.php
	@pandoc -f markdown-smart -s propuesta.md requisitos.md -o pro.adoc
	@scripts/replace.sh
	@echo "Generando propuesta.pdf..."
	@bundle exec asciidoctor-pdf propuesta.adoc
	@rm -f pro.adoc propuesta.adoc
